# ポケモンカード取引サイト改修仕様書（0723_1）

## 1. はじめに

本ドキュメントは、2023年7月23日に行う改修の仕様を定義するものです。主にスマートフォン利用時の操作性向上と不具合修正を目的とします。

## 2. 改修要件

### 2.1. スマートフォンにおける操作性の改善

#### 2.1.1. フリック操作によるカード選択

*   **現状:** スマートフォンでの閲覧時、カードリストの操作がしにくい（フリックが効かない）。
*   **改修内容:** カードリスト部分で、上下のフリック（スワイプ）操作を検知し、キーボードの矢印キー操作と同様に、選択対象のカードが切り替わるように実装します。
*   **期待される動作:**
    *   ユーザーがカードリストを上下にフリックすると、選択されているカードがスムーズに移動し、対応するカード画像が大きく表示される。
*   **目的:** スマートフォンにおける直感的な操作を実現し、UXを向上させる。

### 2.2. 機能の有効化と不具合修正

#### 2.2.1. スマートフォンでの納品書PDF表示

*   **現状:** スマートフォンで「納品書を見る」ボタンが機能しておらず、PDFを閲覧できない。
*   **改修内容:** 「納品書を見る」ボタンを有効化し、クリック（タップ）された際に、PCと同様に納品書のPDFが生成され、表示・ダウンロードできるようにします。
*   **目的:** デバイス間の機能格差をなくし、一貫したユーザー体験を提供する。

#### 2.2.2. PC版の画面遷移の修正

*   **現状:** PCで納品書ページを表示した後、トップページのカード検索画面に戻るための明確な動線がない。
*   **改修内容:** 納品書ページに、「カード検索に戻る」などのボタンやリンクを設置し、ユーザーがトップページへ容易に遷移できるようにします。
*   **目的:** サイト内の回遊性を高め、ユーザーが迷うことなく操作を継続できるようにする。

### 2.3. PDF出力の品質向上

#### 2.3.1. PDFの文字化け対策

*   **現状:** 現状の実装では、特にスマートフォンでPDFを表示した際に、日本語フォントが含まれていないため文字化けが発生する可能性がある。
*   **改修内容:**
    1.  日本語表示に対応したウェブフォント（例: Noto Sans JPなど）をプロジェクトに導入します。
    2.  PDF生成ライブラリ（jsPDFなど）の設定を変更し、上記で導入したフォントを埋め込むことで、どの環境で表示しても文字化けが起こらないようにします。
*   **目的:** 生成されるPDFの品質を保証し、信頼性を高める。 