# ポケモンカード取引サイト改修仕様書

## 1. はじめに

本ドキュメントは、既存のポケモンカード取引サイトに対する追加機能および改修内容を定義するものです。クライアントからの追加要望に基づき、仕様を明確化することを目的とします。

## 2. 改修の背景

PCでの利用を主眼に置いた現行システムに対し、スマートフォンでの利用を想定した操作性の向上と、買取業務を効率化するための納品書作成機能の追加がクライアントより要望されました。本改修はこれらの要望に対応し、より利便性の高いサービスを提供することを目指します。

## 3. 追加要件定義

### 3.1. UI/UXの改善 (レスポンシブ対応・クリック操作)

スマートフォンやタブレットなど、多様なデバイスでの快適な利用を実現するため、レスポンシブデザインを導入し、操作方法を拡充します。

#### 3.1.1. カード選択方法の追加

*   **現状:** キーボードの上下矢印キーでのみ、カードリストの選択対象を移動可能。
*   **改修内容:** 上記に加え、マウスクリック（またはタップ）でもカードを選択できるようにします。
*   **期待される動作:**
    *   ユーザーがカードリスト内の特定のカードをクリック（タップ）すると、そのカードが選択状態になります。
    *   選択されたカードは、既存のキーボード操作時と同様にハイライト表示され、カード画像が大きく表示されます。
*   **目的:** キーボードを持たないスマートフォン等のデバイスにおける操作性の向上。

#### 3.1.2. 検索ボックスへのショートカットキー

*   **改修内容:** F1キーを押すことで、カード型番検索の入力欄にフォーカスが移動するショートカットを実装します。
*   **期待される動作:**
    *   ユーザーがF1キーを押すと、カード型番検索の入力欄がアクティブ（入力可能）な状態になります。
*   **目的:** キーボード中心の操作における作業効率の向上。

### 3.2. 納品書作成・PDF出力機能

買取希望のカードをリスト化し、管理・出力する「納品書」機能を追加します。これにより、ECサイトのカート機能に近い体験を提供します。

#### 3.2.1. 納品書へのカード追加機能

*   **改修内容:**
    *   カード検索結果の一覧に表示される各カード項目に、「納品書へ追加」ボタンを新たに設置します。
    *   ユーザーが数量セレクターで希望数量を指定した上でこのボタンを押すと、対象のカードと数量が「納品書リスト」に追加されます。

#### 3.2.2. 納品書ページの新規作成

*   **改修内容:**
    *   サイト内に「納品書」ページを新設します。ヘッダーなどからこのページへ遷移できるようにします。
    *   このページには、納品書リストに追加された以下の項目が一覧で表示されます。
        *   商品タイトル
        *   商品型番
        *   レアリティ
        *   買取単価
        *   数量
        *   小計（単価 × 数量）
    *   一覧の下部には、全カードの「合計数量」と「合計金額」が表示されます。

#### 3.2.3. 納品書リストの編集機能

*   **改修内容:**
    *   納品書ページの一覧上で、各カードの数量を直接変更（増減）できるようにします。
    *   各カード項目の横に「削除」ボタンを設置し、リストから特定のカードを削除できるようにします。
    *   数量の変更やカードの削除が行われると、合計数量・合計金額は即座に再計算され、表示に反映されます。

#### 3.2.4. 納品書のPDF出力機能

*   **改修内容:**
    *   納品書ページに「PDFとして出力」ボタンを設置します。
    *   ボタンをクリックすると、現在表示されている納品書の内容が、A4サイズのPDFファイルとして整形され、ユーザーのデバイスにダウンロードされます。

## 4. その他

*   本改修に伴い、サイト全体のレイアウトが各種デバイス（PC、タブレット、スマートフォン）の画面幅に応じて最適化されるよう、レスポンシブデザインを適用します。 